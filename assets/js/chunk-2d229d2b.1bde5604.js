(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d229d2b"],{dea5:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-card",[a("v-card-title",[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Reservations")])],1)],1),a("v-card-text",[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"","px-5":""}},[a("v-text-field",{attrs:{name:"search",label:"Search"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.items,"items-per-page":10,search:e.search},scopedSlots:e._u([{key:"item.name",fn:function(t){var o=t.item;return[a("v-badge",{attrs:{color:"blue",dark:""},scopedSlots:e._u([{key:"badge",fn:function(){return[e._v(e._s(o.rooms.length))]},proxy:!0}],null,!0)},[a("span",[e._v(e._s(o.name))])])]}},{key:"item.guestName",fn:function(t){var a=t.item;return[e._v(e._s(a.guest.firstName+" "+a.guest.lastName))]}},{key:"item.total",fn:function(t){var a=t.item;return[e._v(e._s((new Date(a.checkOut).getTime()-new Date(a.checkIn).getTime())/1e3/60/60/24*a.room.roomType.price))]}},{key:"item.actions",fn:function(t){var o=t.item;return[a("v-btn",{attrs:{text:"",icon:"",color:"red"},on:{click:function(t){return t.stopPropagation(),e.deleteItem(o)}}},[a("v-icon",[e._v("mdi-trash-can")])],1)]}}])})],1),a("v-card-actions")],1)],1)],1)],1)},r=[],n={data:()=>({dialog:!1,search:"",headers:[{text:"Room",value:"room.id"},{text:"Room Type",value:"room.roomType.name"},{text:"Check In",value:"checkIn"},{text:"Check Out",value:"checkOut"},{text:"Guest",value:"guestName"},{text:"Guest ID",value:"guest.identity"},{text:"Total",value:"total"},{text:"Actions",value:"actions",align:"center"}],items:[]}),created:function(){this.getData()},methods:{deleteItem:function(e){confirm("Confirm Delete ?")&&this.$axios.delete(`/api/reservation/${e.id}`).then(e=>{this.getData()})},getData:function(){this.$axios.get("/api/reservation").then(e=>{for(var t=e.data,a=0;a<t.length;a++)t[a].checkIn=new Date(t[a].checkIn).toISOString().slice(0,10),t[a].checkOut=new Date(t[a].checkOut).toISOString().slice(0,10);this.$axios.get("/api/roomtype?populate=false").then(e=>{for(var a=e.data,o=0;o<t.length;o++)for(var r=0;r<a.length;r++)t[o].room.roomType==a[r].id&&(t[o].room.roomType=a[r]);this.items=t,console.log(t)})})}}},s=n,i=a("2877"),c=a("6544"),l=a.n(c),u=a("4ca6"),d=a("8336"),m=a("b0af"),v=a("99d9"),h=a("a523"),f=a("8fea"),p=a("0e8f"),g=a("132d"),x=a("a722"),k=a("8654"),b=a("71d9"),y=a("2a7f"),T=Object(i["a"])(s,o,r,!1,null,null,null);t["default"]=T.exports;l()(T,{VBadge:u["a"],VBtn:d["a"],VCard:m["a"],VCardActions:v["a"],VCardText:v["b"],VCardTitle:v["c"],VContainer:h["a"],VDataTable:f["a"],VFlex:p["a"],VIcon:g["a"],VLayout:x["a"],VTextField:k["a"],VToolbar:b["a"],VToolbarTitle:y["b"]})}}]);
//# sourceMappingURL=chunk-2d229d2b.1bde5604.js.map