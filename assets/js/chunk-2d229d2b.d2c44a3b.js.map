{"version":3,"sources":["webpack:///./src/components/Reservations.vue?ce7b","webpack:///src/components/Reservations.vue","webpack:///./src/components/Reservations.vue?89a5","webpack:///./src/components/Reservations.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","_v","model","value","callback","$$v","search","expression","staticClass","headers","items","scopedSlots","_u","key","fn","ref","item","_s","rooms","length","proxy","name","guest","firstName","lastName","Date","checkOut","getTime","checkIn","room","roomType","price","on","$event","stopPropagation","deleteItem","staticRenderFns","data","dialog","text","align","created","getData","methods","confirm","$axios","delete","id","then","get","ress","i","toISOString","slice","data2","rt","j","console","log","component","VBadge","VBtn","VCard","VCardActions","VCardText","VCardTitle","VContainer","VDataTable","VFlex","VIcon","VLayout","VTextField","VToolbar","VToolbarTitle"],"mappings":"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","file":"js/chunk-2d229d2b.d2c44a3b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-card',[_c('v-card-title',[_c('v-toolbar',{attrs:{\"flat\":\"\"}},[_c('v-toolbar-title',[_vm._v(\"Reservations\")])],1)],1),_c('v-card-text',[_c('v-layout',{attrs:{\"row\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\",\"px-5\":\"\"}},[_c('v-text-field',{attrs:{\"name\":\"search\",\"label\":\"Search\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1)],1),_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.headers,\"items\":_vm.items,\"items-per-page\":10,\"search\":_vm.search},scopedSlots:_vm._u([{key:\"item.name\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-badge',{attrs:{\"color\":\"blue\",\"dark\":\"\"},scopedSlots:_vm._u([{key:\"badge\",fn:function(){return [_vm._v(_vm._s(item.rooms.length))]},proxy:true}],null,true)},[_c('span',[_vm._v(_vm._s(item.name))])])]}},{key:\"item.guestName\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(_vm._s(item.guest.firstName + ' ' + item.guest.lastName))]}},{key:\"item.total\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(\"Rs. \"+_vm._s((new Date(item.checkOut).getTime()-new Date(item.checkIn).getTime())/1000/60/60/24*item.room.roomType.price))]}},{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"red\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.deleteItem(item)}}},[_c('v-icon',[_vm._v(\"mdi-trash-can\")])],1)]}}])})],1),_c('v-card-actions')],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container>\n    <v-layout row wrap>\n      <v-flex xs12>\n        <v-card>\n          <v-card-title>\n            <v-toolbar flat>\n              <v-toolbar-title>Reservations</v-toolbar-title>\n\n            </v-toolbar>\n          </v-card-title>\n          <v-card-text>\n            <v-layout row>\n              <v-flex xs12 px-5>\n                <v-text-field name=\"search\" label=\"Search\" v-model=\"search\"></v-text-field>\n              </v-flex>\n            </v-layout>\n            <v-data-table\n              :headers=\"headers\"\n              :items=\"items\"\n              :items-per-page=\"10\"\n              :search=\"search\"\n              class=\"elevation-1\"\n            >\n              <template v-slot:item.name=\"{ item }\">\n                <v-badge color=\"blue\" dark>\n                  <template v-slot:badge>{{item.rooms.length}}</template>\n                  <span>{{item.name}}</span>\n                </v-badge>\n              </template>\n              <template\n                v-slot:item.guestName=\"{ item }\"\n              >{{ item.guest.firstName + ' ' + item.guest.lastName }}</template>\n              <template\n                v-slot:item.total=\"{ item }\"\n              >Rs. {{ (new Date(item.checkOut).getTime()-new Date(item.checkIn).getTime())/1000/60/60/24*item.room.roomType.price}}</template>\n              <template v-slot:item.actions=\"{ item }\">\n                <v-btn text icon color=\"red\" @click.stop=\"deleteItem(item)\">\n                  <v-icon>mdi-trash-can</v-icon>\n                </v-btn>\n              </template>\n            </v-data-table>\n          </v-card-text>\n          <v-card-actions></v-card-actions>\n        </v-card>\n      </v-flex>\n    </v-layout>\n  </v-container>\n</template>\n\n<script>\nexport default {\n  data: () => ({\n    dialog: false,\n    search: '',\n    headers: [\n      { text: 'Room', value: 'room.id' },\n      { text: 'Room Type', value: 'room.roomType.name' },\n      {\n        text: 'Check In',\n        value: 'checkIn'\n        // filterable: true,\n        // filter: function(value, search, item) {\n        //   var v = new Date(value).toISOString().slice(0, 10);\n        //   console.log({ v, search, item });\n        //   return v.includes(search, 0);\n        // }\n      },\n      { text: 'Check Out', value: 'checkOut' },\n      { text: 'Guest', value: 'guestName' },\n      { text: 'Guest ID', value: 'guest.identity' },\n      { text: 'Total', value: 'total' },\n      { text: 'Actions', value: 'actions', align: 'center' }\n    ],\n    items: []\n  }),\n  created: function() {\n    this.getData();\n  },\n  methods: {\n    deleteItem: function(item) {\n      if (true) {\n        if (confirm('Confirm Delete ?')) {\n          this.$axios.delete(`/api/reservation/${item.id}`).then(data => {\n            // console.log(data);\n            this.getData();\n          });\n        }\n      }\n    },\n    getData: function() {\n      this.$axios.get('/api/reservation').then(data => {\n        var ress = data.data;\n        for (var i = 0; i < ress.length; i++) {\n          ress[i].checkIn = new Date(ress[i].checkIn)\n            .toISOString()\n            .slice(0, 10);\n          ress[i].checkOut = new Date(ress[i].checkOut)\n            .toISOString()\n            .slice(0, 10);\n        }\n        this.$axios.get('/api/roomtype?populate=false').then(data2 => {\n          var rt = data2.data;\n          for (var i = 0; i < ress.length; i++) {\n            for (var j = 0; j < rt.length; j++) {\n              if (ress[i].room.roomType == rt[j].id) {\n                ress[i].room.roomType = rt[j];\n              }\n            }\n          }\n          this.items = ress;\n          console.log(ress);\n        });\n      });\n    }\n  }\n};\n</script>\n\n<style>\n</style>","import mod from \"-!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Reservations.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Reservations.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Reservations.vue?vue&type=template&id=7ab70eac&\"\nimport script from \"./Reservations.vue?vue&type=script&lang=js&\"\nexport * from \"./Reservations.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBadge } from 'vuetify/lib/components/VBadge';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBadge,VBtn,VCard,VCardActions,VCardText,VCardTitle,VContainer,VDataTable,VFlex,VIcon,VLayout,VTextField,VToolbar,VToolbarTitle})\n"],"sourceRoot":""}